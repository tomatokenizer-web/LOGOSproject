# L1-L2 전이 계수 모듈

> **최종 업데이트**: 2026-01-05
> **코드 위치**: `src/core/transfer.ts`
> **상태**: 활성

---

## 맥락 및 목적

이 모듈은 **교차언어적 영향**의 과학을 구현합니다 - 학습자의 모국어(L1)가 새로운 언어(L2) 습득에 어떻게 영향을 미치는지. 언어 학습이 백지 상태의 과정이 아니기 때문에 존재합니다; 학습자들은 첫 번째 언어에서 정신적 패턴, 소리, 구조를 가지고 있으며 이것이 진행을 돕거나 방해할 수 있습니다.

**비즈니스 필요성**: LOGOS는 다양한 언어적 배경의 학습자들에게 서비스합니다 (영어를 배우는 스페인어 화자, 영어를 배우는 일본어 화자 등). L1 전이 효과를 고려하지 않으면 시스템은 모든 학습자를 동일하게 취급하여 다음의 중요한 기회를 놓치게 됩니다:
- 긍정적 전이 활용 (L1 패턴이 L2 학습에 도움이 될 때)
- 부정적 전이/간섭 예측 (L1 패턴이 오류를 일으킬 때)
- 어휘 및 문법에 대한 난이도 추정 개인화

**사용 시점**:
- 학습 항목의 "비용" 구성요소를 조정하기 위한 우선순위 계산 중
- 동족어 관계에 따른 어휘의 IRT 난이도 보정 시
- 발음 훈련을 위한 음운적 도전 예측 시
- 의료 도메인 보너스 적용이 필요할 때 (로망스어 화자들은 라틴어 유래 의료 용어에서 이득)

---

## 미시적 관점: 직접적 관계

### 의존성 (이 모듈이 필요로 하는 것)

이 모듈은 의도적으로 코드베이스 내에서 **의존성이 없습니다** - 다른 LOGOS 모듈에서 가져오기가 없는 순수 함수를 포함합니다. 이 설계 선택은 다음을 보장합니다:
- 전이 계산이 격리된 상태에서 테스트 가능
- 다른 핵심 모듈과의 순환 의존성 문제 없음
- 전이 로직이 다른 곳에서 사용되어야 할 경우 쉬운 이식성

**외부 데이터**: 모듈은 언어학 연구 데이터를 직접 내장합니다:
- `LANGUAGE_FAMILIES`: ISO 639-1 언어 코드를 계통 분류에 매핑
- `ENGLISH_TRANSFER_COEFFICIENTS`: 영어를 L2로 하는 경험적 전이 값
- `MEDICAL_DOMAIN_TRANSFER`: 도메인별 동족어 보너스

### 종속자 (이 모듈을 필요로 하는 것)

- `src/core/priority.ts`: Priority = FRE / Cost 공식에서 "비용" 분모를 줄이기 위해 `calculateTransferGain()` 사용. 전이 이득이 높으면 학습 비용이 감소하여 우선순위가 높아짐.

- `src/main/services/state-priority.service.ts`: 학습 큐 구축 시 전이 효과를 통합하여 긍정적 전이가 있는 항목이 적절하게 표면화되도록 보장.

- `src/main/services/task-generation.service.ts`: 발음 중심 연습의 과제 난이도 조정에 `getPhonologicalDifficultyBonus()` 사용.

- `src/core/content/content-generator.ts` (잠재적): 힌트 생성 및 설명 품질을 위해 `isCognate()` 사용 가능.

### 데이터 흐름

```
사용자 프로필 (L1 언어 코드)
    |
    v
getLanguageFamily(l1) --> LanguageFamily 분류
    |
    v
getTransferCoefficients(l1, l2) --> TransferCoefficients 객체
    |                                  (6개 언어적 차원)
    v
calculateTransferGain(l1, l2, objectType, domain)
    |
    v
우선순위 계산 (비용 감소) --> 학습 큐 순서
```

---

## 거시적 관점: 시스템 통합

### 아키텍처 계층

이 모듈은 LOGOS 3계층 아키텍처의 **핵심 알고리즘 계층**에 위치합니다:

```
계층 1: 렌더러 (React UI)
    |
    v
계층 2: 메인 프로세스 (IPC 핸들러, 서비스)
    |
    v
계층 3: 핵심 알고리즘 <-- 현재 위치 (src/core/transfer.ts)
    |
    v
계층 4: 데이터베이스 (Prisma/SQLite)
```

핵심 계층 내에서 transfer.ts는 **우선순위 시스템** 하위 그래프에 연결됩니다:

```
[FRE 지표] ----+
              |
              v
          priority.ts ---> 학습 큐
              ^
              |
[전이] -------+  (비용 요소 조정)
```

### 전체적 영향

전이 모듈은 언어적 배경에 기반한 **개인화된 학습 경로**를 가능하게 합니다. 이것은 일반적인 언어 학습 앱과 비교하여 LOGOS의 차별화 기능 중 하나입니다.

**이 모듈 없이는**, 시스템이:
- 영어를 배우는 스페인어 화자와 일본어 화자를 동일하게 취급
- 로망스어 화자를 위해 동족어를 우선시할 기회를 놓침
- 통사적 간섭 경고 실패 (SOV vs SVO 어순 충돌)
- 긍정적 전이가 적용되는 항목의 난이도를 과대평가
- 부정적 전이가 지속적인 오류를 일으키는 난이도를 과소평가

**시스템 의존성**:
- **우선순위 계산**: `Priority = FRE / Cost`의 비용 요소가 전이 이득을 직접 통합
- **IRT 난이도 조정**: `calculateTransferAdjustedDifficulty()`가 항목 난이도 매개변수 수정
- **의료 도메인 특화**: 로망스어 화자들이 라틴어 유래 의료 용어에 대해 동족어 보너스를 받음, CELBAN (캐나다 간호 인증) 사용 사례를 직접 지원

### 임계 경로 분석

**중요도 수준**: 중상

이 모듈은 기본 앱 기능의 임계 경로에 있지 않지만 (없어도 LOGOS는 작동함), 다음에 필수적입니다:
- 개인화된 학습 효율성 (최적 항목 순서에 30-50% 추정 영향)
- 의료 도메인 효과 (로망스어 화자에게 40% 동족어 보너스)
- 다양한 학습자 집단에 대한 정확한 난이도 예측

**실패 모드**: 이 모듈이 실패하거나 잘못된 값을 반환하면:
- 학습 우선순위가 차선이 되지만 치명적이지 않음
- 난이도 추정이 덜 정확해짐
- 앱은 기능하지만 학습 효율성이 감소

---

## 기술적 개념 (쉬운 설명)

### 전이 계수 (Transfer Coefficient)

**기술적**: 모국어 패턴이 목표 언어 학습에 전이되는 정도를 나타내는 -1과 +1 사이의 수치. 양수 값은 촉진적 전이를 나타내고; 음수 값은 간섭을 나타냅니다.

**쉬운 설명**: 새로운 나라에서 운전을 배우는 것과 같다고 생각하세요. 영국(좌측 통행)에서 배우고 미국(우측 통행)으로 이사하면 "부정적 전이"가 있습니다 - 오래된 습관이 당신에게 불리하게 작용합니다. 캐나다에서 배우고 미국으로 이사하면 "긍정적 전이"가 있습니다 - 같은 쪽 도로, 쉬운 조정. 전이 계수는 오래된 언어 습관이 새 언어에 얼마나 도움이 되거나 해가 되는지를 측정합니다.

**사용 이유**: 특정 학습자 집단에게 어떤 어휘, 문법 패턴, 소리가 쉽거나 어려울지 예측하여 더 현명한 항목 우선순위화를 가능하게 합니다.

### 언어 계통 분류

**기술적**: 공통 조상에서 역사적으로 파생된 언어들의 분류학적 그룹화 (예: 게르만어, 로망스어, 슬라브어, 중국-티베트어).

**쉬운 설명**: 언어는 생물학적 가족과 같습니다 - 영어, 독일어, 네덜란드어는 같은 조상(원시 게르만어)에서 내려온 언어적 "형제"입니다. 스페인어, 프랑스어, 이탈리아어는 또 다른 형제 그룹입니다 (라틴어에서 온 로망스어). 언어가 어떤 "가족"에 속하는지 알면 그 패턴이 다른 언어와 얼마나 유사한지 예측하는 데 도움이 됩니다.

**사용 이유**: 같은 가족의 언어들은 어휘 어근, 문법 구조, 소리 체계를 공유합니다. 이것은 특정 언어 쌍에 대한 구체적인 연구 데이터가 없어도 전이 효과를 추정할 수 있게 합니다.

### 동족어 (Cognate)

**기술적**: 영어 "telephone"과 스페인어 "telefono"처럼 공통의 어원적 기원과 종종 유사한 형태를 공유하는 두 언어의 단어.

**쉬운 설명**: 동족어는 "무료 어휘"입니다 - 같은 역사적 뿌리를 공유하기 때문에 언어 간에 비슷하게 보이거나 들리는 단어. 영어를 배우는 스페인어 화자들은 "hospital", "doctor", "family" 같은 수백 개의 단어를 이미 알고 있습니다. 두 언어에서 거의 동일하기 때문입니다.

**사용 이유**: `isCognate()` 함수는 학습자가 이미 인식할 수 있는 어휘를 식별하는 데 도움이 되어 효과적인 학습 비용을 줄이고 시스템이 동족어보다 진정으로 새로운 어휘를 우선시할 수 있게 합니다.

### 음운적 전이

**기술적**: 모국어 소리 목록과 음소배열론적 제약이 목표 언어 발음에 미치는 영향.

**쉬운 설명**: 당신의 입은 모국어에서 특정 소리를 만들도록 훈련되어 있습니다. 일본어에는 "L" vs "R" 구별이 없어서 일본어 화자들은 종종 영어에서 이것으로 어려움을 겪습니다. 독일어 화자들은 자신의 언어에 있기 때문에 "ch" 소리를 잘합니다. 음운적 전이는 모국어가 어떤 소리를 사용하는지에 따라 어떤 소리가 쉽거나 어려울지를 포착합니다.

**사용 이유**: 발음 과제의 난이도 점수를 조정하고 일반적인 발음 오류 패턴을 예측합니다.

### 통사적 전이

**기술적**: 모국어 어순 (예: 주어-동사-목적어 vs 주어-목적어-동사)과 문법 구조가 목표 언어 산출에 미치는 영향.

**쉬운 설명**: 언어들은 단어를 다른 순서로 배치합니다. 영어는 주어-동사-목적어를 사용하고 ("I eat pizza"), 일본어는 주어-목적어-동사를 사용합니다 ("나는 피자를 먹는다" -> "I pizza eat"). 새 언어를 배울 때 두뇌는 익숙한 어순을 사용하려 해서 오류를 일으킵니다. 부정적 통사적 전이는 모국어 어순이 목표 언어와 충돌함을 의미합니다.

**사용 이유**: 영어 어순에서 어려움을 겪을 학습자들 (일본어, 한국어 화자 등)을 식별하고 그들을 위해 통사 패턴 연습을 우선시합니다.

### 로짓 척도 (전이 수정자용)

**기술적**: 0이 평균 난이도를 나타내고, 양수 값은 더 어려운 항목을, 음수 값은 더 쉬운 항목을 나타내는 수학적 척도. 1 로짓 단위는 난이도의 의미 있는 차이를 나타냅니다.

**쉬운 설명**: 항목이 "어렵다" 또는 "쉽다"고 말하는 대신 (주관적), 0을 중심으로 한 숫자 척도를 사용합니다. +1 값은 항목이 평균보다 한 "난이도 단위" 위임을 의미하고; -1은 한 단위 아래를 의미합니다. 전이 수정자는 모국어가 얼마나 도움이 되거나 해가 되는지에 따라 이 숫자를 위아래로 조정합니다.

**사용 이유**: 전이 수정자 (`-transfer * 0.5` 로짓으로 계산)가 IRT 난이도 매개변수를 직접 조정하여 LOGOS의 심리측정 기반과 통합됩니다.

### 의료 도메인 전이 보너스

**기술적**: 의료 영어에서 라틴어 및 그리스어 유래 용어의 높은 비율을 반영하여 의료 도메인의 어휘 항목에 적용되는 추가 긍정적 전이 계수.

**쉬운 설명**: 의료 어휘는 많은 부분이 라틴어와 그리스어 어근에서 왔기 때문에 특별합니다. "cardiovascular", "hypertension", "pulmonary" 같은 단어들은 영어, 스페인어, 프랑스어, 이탈리아어에서 거의 동일합니다. 로망스어 화자들은 중국어나 아랍어 화자들이 가지지 못하는 의료 어휘에 대한 "선행 이점"을 얻습니다.

**사용 이유**: LOGOS는 특히 의료 전문가들 (CELBAN 인증)을 대상으로 합니다. 이 보너스는 스페인어, 프랑스어, 포르투갈어, 이탈리아어 화자들이 이미 인식하는 동족어보다 진정으로 생소한 의료 용어 학습으로 올바르게 우선순위가 매겨지도록 보장합니다.

---

## 변경 이력

### 2026-01-05 - 문서 생성
- **변경 사항**: 전이 모듈에 대한 초기 내러티브 문서
- **이유**: 섀도우 문서 시스템 구현
- **영향**: 모든 팀원이 L1-L2 전이 시스템을 이해할 수 있게 함

### 초기 구현 - 모듈 생성
- **변경 사항**: 다음을 포함한 완전한 L1-L2 전이 계수 시스템 생성:
  - 40개 이상 언어에 대한 언어 계통 분류
  - 6개 차원 전이 계수 (음운적, 철자적, 형태론적, 어휘적, 통사적, 화용론적)
  - SLA 연구에 기반한 영어 특정 전이 테이블
  - 로망스어 화자를 위한 의료 도메인 보너스
  - 동족어 탐지 휴리스틱
- **이유**: 개인화된 학습은 모국어가 L2 습득에 미치는 영향을 고려해야 함
- **영향**: 다양한 언어적 배경의 학습자들에 대한 차별적 처리를 가능하게 하여 전이가 돕는 항목을 우선시하고 전이가 간섭하는 항목을 스캐폴딩하여 학습 효율성 향상

---

## 학술적 기반

이 모듈은 동료 검토된 제2언어 습득(SLA) 연구에 기반합니다:

- **Jarvis, S. & Pavlenko, A. (2008)**: *Crosslinguistic Influence in Language and Cognition* - 언어적 영역 전반의 전이 효과 이해를 위한 이론적 프레임워크
- **Ringbom, H. (2007)**: *Cross-linguistic Similarity in Foreign Language Learning* - 동족어 인식 및 전이 촉진에 대한 경험적 데이터
- **Odlin, T. (1989)**: *Language Transfer: Cross-linguistic influence in language learning* - 부정적 및 긍정적 전이 현상에 대한 기초 텍스트

`ENGLISH_TRANSFER_COEFFICIENTS`의 계수 값들은 이 연구 문헌에서 종합된 경험적으로 도출된 추정치로, 계산적 구현에 맞게 조정되었습니다.
